from clubAnalyser import Analysis
prl_clubs = [
    #[2530972163, 2953368070, 2163470342, 2916255243, 2646329355, 1999536656, 2106866729, 2299437103, 2150813751, 2119564347, 2617328699, 2275853904, 2054682710, 2648045154, 2419996774, 2608506984, 2639260782, 2184381038, 2936217711, 2689882230, 2907377662, 2312077945, 2306900094, 2136632959, 2428571269, 2633795720, 2223163528, 2786860172, 2806021778, 2958999215, 2289308872, 2651163857, 2131585752, 2128616155, 2308378844, 2098147036, 2621082335, 2515562216, 2990873832, 2079150322, 2141729011, 2593217274, 2980864762, 2194702591, 2107803903, 2131974911, 2171932422, 2658314510, 2493535503, 2959698198, 2766192925, 2191573790, 2118003487, 2435795745, 2131084071, 2163830057, 2153170226, 2897493812, 2659730751, 2181331778, 2111317318, 2486321479, 2664185679, 2974289232, 2618462548, 2110542169, 2521906021, 2788252523, 2776399727, 2256830846, 2568784767, 2644755847, 2488838541, 2775994258, 2719544221, 2785462173, 2762446754, 2307711420, 2639933372, 2788907974, 2957313488, 2525533649, 2663206871, 2717155834, 2432833534],
    #[2152858243, 2785766916, 2143675271, 1244974601, 2154317579, 2241151633, 214878226, 2109410961, 2751928852, 2168024214, 2420693655, 2116128023, 2135458458, 2225372315, 2652146461, 1259251873, 2884182306, 2161348131, 2024911655, 2267075368, 2048719660, 2152671532, 2054844082, 2792248371, 2629861817, 2113952954, 2158893243, 2766205113, 2315179577, 1977634491, 2662218687, 1968948545, 2528984385, 346703939, 1725132105, 1999507273, 2168860362, 2617022538, 2898923852, 2556489938, 2974079445, 2137345622, 2153687383, 2046393814, 2312949851, 2751003100, 2143417181, 2618995423, 2144048996, 2101444581, 2116009706, 1995790827, 2420887148, 2118316780, 2775235949, 2160000370, 260113394, 2721685366, 2974254207],
   # [2705896453, 2070910730, 2159286412, 2746379540, 2767885588, 2103353751, 2110632087, 2636486041, 2240045087, 264202680, 2125365310, 2148286161, 2102383831, 2101380955, 2883494880, 2301744481, 2611527651, 2112493156, 2304296946, 2069659252, 2037749237, 2234814582, 1273541113, 2119311098, 2137766011, 2239097853]
      [2144446980, 2169507332, 2264840197, 2146387448, 68675087, 2140989471, 2509220393, 2273707053, 2105864238, 2510025783, 2309141562, 2158996540, 2150454853, 2168129606, 2228228686, 29156430, 285722199, 2083121761, 2023969377, 2500366947, 2948639857, 2226889331, 1213397108, 112182388, 580814456, 1970964601, 2757437565, 2152748675, 332449412, 2217686667, 2085880977, 1980954773, 2679566486, 46470299, 1992851618, 2127138980, 2288574632, 2144112298, 81068725, 2120199875, 2161922758, 2788039881, 2075486410, 76530380, 2028140240, 1984130259, 2169544406, 2037742808, 1973756125, 2785665251, 2130296053, 2226898200, 2230436637, 2058211624, 222680366, 2576568117, 2193519928, 1911282488, 2155697977, 2792399679, 278134592, 2137021762, 2572083017, 2480733002, 2621583694, 2038168928, 2399628797, 2158748514, 2893478262, 1236609927, 2195679122, 1954235802, 2258767774, 1969841055, 2129265593, 2372578746, 1991817147, 1989832124, 2711419841, 2319292354, 2078454212, 2760752072, 2230476236, 2357163472, 2021011417, 2064393185, 2614831073, 2537523171, 2974200298, 2718390253, 2782238196, 1224875509, 2489391096, 1971726845, 2165532159]     
            ]
prl_labels = [
    #[2530972163, 2953368070, 2163470342, 2916255243, 2646329355, 1999536656, 2106866729, 2299437103, 2150813751, 2119564347, 2617328699, 2275853904, 2054682710, 2648045154, 2419996774, 2608506984, 2639260782, 2184381038, 2936217711, 2689882230, 2907377662, 2312077945, 2306900094, 2136632959, 2428571269, 2633795720, 2223163528, 2786860172, 2806021778, 2958999215, 2289308872, 2651163857, 2131585752, 2128616155, 2308378844, 2098147036, 2621082335, 2515562216, 2990873832, 2079150322, 2141729011, 2593217274, 2980864762, 2194702591, 2107803903, 2131974911, 2171932422, 2658314510, 2493535503, 2959698198, 2766192925, 2191573790, 2118003487, 2435795745, 2131084071, 2163830057, 2153170226, 2897493812, 2659730751, 2181331778, 2111317318, 2486321479, 2664185679, 2974289232, 2618462548, 2110542169, 2521906021, 2788252523, 2776399727, 2256830846, 2568784767, 2644755847, 2488838541, 2775994258, 2719544221, 2785462173, 2762446754, 2307711420, 2639933372, 2788907974, 2957313488, 2525533649, 2663206871, 2717155834, 2432833534],
    #[2152858243, 2785766916, 2143675271, 1244974601, 2154317579, 2241151633, 214878226, 2109410961, 2751928852, 2168024214, 2420693655, 2116128023, 2135458458, 2225372315, 2652146461, 1259251873, 2884182306, 2161348131, 2024911655, 2267075368, 2048719660, 2152671532, 2054844082, 2792248371, 2629861817, 2113952954, 2158893243, 2766205113, 2315179577, 1977634491, 2662218687, 1968948545, 2528984385, 346703939, 1725132105, 1999507273, 2168860362, 2617022538, 2898923852, 2556489938, 2974079445, 2137345622, 2153687383, 2046393814, 2312949851, 2751003100, 2143417181, 2618995423, 2144048996, 2101444581, 2116009706, 1995790827, 2420887148, 2118316780, 2775235949, 2160000370, 260113394, 2721685366, 2974254207],
    #[2705896453, 2070910730, 2159286412, 2746379540, 2767885588, 2103353751, 2110632087, 2636486041, 2240045087, 264202680, 2125365310, 2148286161, 2102383831, 2101380955, 2883494880, 2301744481, 2611527651, 2112493156, 2304296946, 2069659252, 2037749237, 2234814582, 1273541113, 2119311098, 2137766011, 2239097853]
     [2144446980, 2169507332, 2264840197, 2146387448, 68675087, 2140989471, 2509220393, 2273707053, 2105864238, 2510025783, 2309141562, 2158996540, 2150454853, 2168129606, 2228228686, 29156430, 285722199, 2083121761, 2023969377, 2500366947, 2948639857, 2226889331, 1213397108, 112182388, 580814456, 1970964601, 2757437565, 2152748675, 332449412, 2217686667, 2085880977, 1980954773, 2679566486, 46470299, 1992851618, 2127138980, 2288574632, 2144112298, 81068725, 2120199875, 2161922758, 2788039881, 2075486410, 76530380, 2028140240, 1984130259, 2169544406, 2037742808, 1973756125, 2785665251, 2130296053, 2226898200, 2230436637, 2058211624, 222680366, 2576568117, 2193519928, 1911282488, 2155697977, 2792399679, 278134592, 2137021762, 2572083017, 2480733002, 2621583694, 2038168928, 2399628797, 2158748514, 2893478262, 1236609927, 2195679122, 1954235802, 2258767774, 1969841055, 2129265593, 2372578746, 1991817147, 1989832124, 2711419841, 2319292354, 2078454212, 2760752072, 2230476236, 2357163472, 2021011417, 2064393185, 2614831073, 2537523171, 2974200298, 2718390253, 2782238196, 1224875509, 2489391096, 1971726845, 2165532159] 
    ]

jmlr_clubs = [  
    #[2485633537, 177152004, 2661920265, 255084042, 2312837134, 2655389208, 2100576291, 2130456104, 1604723759, 2313657906, 2168614452, 161269817, 1889475642, 2150887997, 2004861503, 2609987651, 2309553220, 24574532, 1981209670, 1988519498, 2443967568, 318894673, 2302862425, 2161866848, 2128170596, 1566711909, 2949025389, 2595437681, 1893736562, 1537048691, 2187581557, 2032270973, 1572478601, 371500171, 2038901907, 2189262995, 2101434519, 2116681370, 168172700, 1980701853, 2058584252, 2345664702, 1912135871, 2053214915, 2080686788, 2109587139, 2806907591, 2160888527, 2134498512, 2032345308, 1111049960, 712415982, 2192737520, 670306551, 2209303800, 2107302653, 284430083, 2632800540, 163924767, 133767967, 2072849696, 2169650468, 2127973671, 1898836778, 2095782188, 2953371951, 2020289842, 1910597427, 2037010747, 2882719549, 2012736320, 2105657664, 130200899, 2037866308, 2172053321, 2028784970, 2308824398, 2149131086, 2397241174, 2063114072, 2291088731, 1904534369, 1960353634, 2522648935, 2080344424, 2328522601, 2133066616, 662855036, 2016539005, 2162369918, 1034661245, 2116332931, 278754694, 2020781963, 2106500497, 1974025617, 1973162899, 2469499809, 1281575332, 2155890085, 36172711, 2077020583, 19414955, 2224929196, 2018810797, 270351283, 2420433332, 2160652726, 2226538938, 2618550202, 2736861629, 2691474368, 2955258819, 2780658116, 309515214, 2122791383, 1856923607, 2029583323, 101938652, 2148425697, 2122328552, 2277160431, 2778121718, 2007149047, 2233962492, 241899517],
    #[2712128676, 2029196934, 2076429416, 2107833897, 2167354121, 2164775409, 1794038515, 2117210965, 971226294, 2060257498, 2151570909, 2102688157],
    [2035876866, 2116836739, 2045157892, 2130181892, 2700953612, 2109954189, 2110501006, 2427243148, 1986033680, 2148022289, 2300711308, 2583656720, 2656283669, 2162752662, 2120348443, 2702409756, 2116155808, 2140714400, 2678872867, 2101279140, 2138722980, 2113276713, 2135302315, 2130712876, 2497095473, 2598605361, 2119739827, 2141326772, 2127632057, 2285338435, 2165888709, 2683781446, 2168176072, 2099379656, 2114357324, 2137603918, 2104512981, 2591117145, 2157689689, 2155265242, 2396073053, 2163103719, 2118530536, 2515560682, 2108673390, 2110230645, 2562268280, 2126599162]
                ]

jmlr_labels = [
    #[2485633537, 177152004, 2661920265, 255084042, 2312837134, 2655389208, 2100576291, 2130456104, 1604723759, 2313657906, 2168614452, 161269817, 1889475642, 2150887997, 2004861503, 2609987651, 2309553220, 24574532, 1981209670, 1988519498, 2443967568, 318894673, 2302862425, 2161866848, 2128170596, 1566711909, 2949025389, 2595437681, 1893736562, 1537048691, 2187581557, 2032270973, 1572478601, 371500171, 2038901907, 2189262995, 2101434519, 2116681370, 168172700, 1980701853, 2058584252, 2345664702, 1912135871, 2053214915, 2080686788, 2109587139, 2806907591, 2160888527, 2134498512, 2032345308, 1111049960, 712415982, 2192737520, 670306551, 2209303800, 2107302653, 284430083, 2632800540, 163924767, 133767967, 2072849696, 2169650468, 2127973671, 1898836778, 2095782188, 2953371951, 2020289842, 1910597427, 2037010747, 2882719549, 2012736320, 2105657664, 130200899, 2037866308, 2172053321, 2028784970, 2308824398, 2149131086, 2397241174, 2063114072, 2291088731, 1904534369, 1960353634, 2522648935, 2080344424, 2328522601, 2133066616, 662855036, 2016539005, 2162369918, 1034661245, 2116332931, 278754694, 2020781963, 2106500497, 1974025617, 1973162899, 2469499809, 1281575332, 2155890085, 36172711, 2077020583, 19414955, 2224929196, 2018810797, 270351283, 2420433332, 2160652726, 2226538938, 2618550202, 2736861629, 2691474368, 2955258819, 2780658116, 309515214, 2122791383, 1856923607, 2029583323, 101938652, 2148425697, 2122328552, 2277160431, 2778121718, 2007149047, 2233962492, 241899517],
    #[2712128676, 2029196934, 2076429416, 2107833897, 2167354121, 2164775409, 1794038515, 2117210965, 971226294, 2060257498, 2151570909, 2102688157],
    [2035876866, 2116836739, 2045157892, 2130181892, 2700953612, 2109954189, 2110501006, 2427243148, 1986033680, 2148022289, 2300711308, 2583656720, 2656283669, 2162752662, 2120348443, 2702409756, 2116155808, 2140714400, 2678872867, 2101279140, 2138722980, 2113276713, 2135302315, 2130712876, 2497095473, 2598605361, 2119739827, 2141326772, 2127632057, 2285338435, 2165888709, 2683781446, 2168176072, 2099379656, 2114357324, 2137603918, 2104512981, 2591117145, 2157689689, 2155265242, 2396073053, 2163103719, 2118530536, 2515560682, 2108673390, 2110230645, 2562268280, 2126599162]
                ]


count = 70
mask_pref = "cj.pcc[1]"
fin = './data/prl/prl_dblp.json'
# fin = './data/jmlr/jmlr_dblp.json'
for club, labels in zip(prl_clubs, prl_labels):
# for club, labels in zip(jmlr_clubs, jmlr_labels):
    dict_ = dict(zip(club,labels))
    #print(club, labels, dict_)
    ca = Analysis(club, fin)
    coauth = ca.collab
    ref = ca.projection
    self_cit = []
    for i in range(len(club)):
        for j in range(len(club)):
            if i == j:
                self_cit.append(len(ref[i][j]))
    print("\nCoauthorship")
    for co in coauth:
        for c in co:
            print(c, end = "&")
        print(r"\\")

    print("\nself citation, club citation and journal citation counts")
    jc = ca.count_journal_cit()
    cc = ca.get_club_cit()
    # print(jc)
    for i, x, y, z in zip(labels, self_cit, cc, jc):
        if len(y) > 0:
            print(str(i), "&", str(x), "&", str(len(y)), "&",  str(z), r"\\")
    
    
    print("\nSCC, size and score with total score")
    sccs = ca.get_scc()
    total_strength = 0
    for i in sccs:
        print(i.members, len(i.members), i.weight)
        total_strength += i.weight
    print("total ", total_strength)
    '''
    comp, weight, score = 
    for i in range(len(comp)):
        temp = []
        for j in comp[i]:
            temp.append(dict_[j])
        # print("S"+(str(count)), "&", str(weight[i]), "&", score[i], r"\\")
        # # print("S"+(str(count)), "&",  str(temp).replace("'","").replace("[","").replace("]",""), r"\\")
        print(str(temp).replace("'","").replace("[","").replace("]",""), "&", str(weight[i]), "&", score[i], r"\\")
        count += 1
    print("Club score: ", sum(score))

    print("\n\n\n")
    '''

    # ca.masked_visualise("results/prl_graphs/induced_coauth_subg_"+labels[0]+".gv", engine='circo', labels=labels)
    #ca.masked_visualise("results/jmlr_graphs/induced_coauth_subg_"+labels[0]+".gv", engine='circo', labels=labels)
    break

# import pickle
# # with open('results/experiment3/jmlr.gcc.bin', 'rb') as fil:
# objects = []
# with (open('results/experiment3/jmlr.gcc.bin', "rb")) as openfile:
#     while True:
#         try:
#             objects.append(pickle.load(openfile))
#         except EOFError:
#             break
# # print(objects)
# for e in objects:
#     print(e)
#     break